datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model SoilReport {
  id          String   @id @default(uuid()) @db.Uuid
  state       String   @db.VarChar(255)
  district    String   @db.VarChar(255)
  village     String   @db.VarChar(255)
  ph          Decimal  @db.Decimal(4,2)
  nitrogen    Decimal  @db.Decimal(10,2)
  phosphorus  Decimal  @db.Decimal(10,2)
  potassium   Decimal  @db.Decimal(10,2)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([state, district, village])
  @@index([state])
  @@index([district])
  @@index([village])

  @@check(ph >= 0 AND ph <= 14)
  @@check(nitrogen > 0)
  @@check(phosphorus > 0)
  @@check(potassium > 0)
}